{"openapi":"3.0.1","info":{"title":"Auth service API","contact":{"name":"Potryvaev Alexandr","email":"Alexpotr@yandex.ru"}},"servers":[{"url":"http://localhost:8091","description":"Generated server url"}],"paths":{"/api/auth":{"get":{"tags":["auth-controller"],"summary":"Контроллер прав пользователя","description":"Проверяет права авторизации пользователя","operationId":"getUserAuthority","responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserValidationResponse"}}}}}},"post":{"tags":["auth-controller"],"summary":"Контроллер генерации токенов","description":"Генерирует access и refresh токены для зарегестрированного пользователя","operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtResponse"}}}}}}},"/api/auth/reg":{"post":{"tags":["auth-controller"],"summary":"Контроллер регистрации","description":"Регестрирует пользователя в системе","operationId":"newUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}},"required":true},"responses":{"409":{"description":"Login in already exists"},"200":{"description":"Successful operation"}}}},"/api/auth/refresh":{"post":{"tags":["auth-controller"],"summary":"Контроллер обновления токенов","description":"Обнавляет access и refresh токены","operationId":"refresh","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtRefreshRequest"}}},"required":true},"responses":{"403":{"description":"Jwt refresh token expired"},"404":{"description":"User is not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtResponse"}}}}}}},"/api/auth/admin":{"post":{"tags":["auth-controller"],"summary":"Контроллер регистрации администратора","description":"Регестрирует администратора в системе","operationId":"newAdminUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}},"required":true},"responses":{"409":{"description":"Login in already exists"},"200":{"description":"Successful operation"}}}}},"components":{"schemas":{"AuthenticationRequest":{"type":"object","properties":{"login":{"type":"string"},"password":{"type":"string"}}},"JwtResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"type":{"type":"string"}}},"UserDto":{"type":"object","properties":{"login":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"}}},"JwtRefreshRequest":{"type":"object","properties":{"refreshToken":{"type":"string"}}},"UserValidationResponse":{"type":"object","properties":{"login":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}}}}}}}